# Project 3: Density Reconstruction {-}

The state of congestion of a city is one of the critical. This project aims to study the reconstruction of traffic variables from different type of sources. For more information the detail of this work can be found at [@Lovisari2016], [@Ladino2018].

![](images/p4-01-density.png)

In this approach in particular, the reconstruction of density will be based on multiple hypothesys. 

* There exist multiple sources of traffic information such as *Floating Car Data (FCD)* or *Magnetic Loop Data (MLD)*, the nature of these two measurements is different. While FCD can be collected easily and almost every where in the traffic network, it is not really representative of the congestion state due to the penetration rate. Its counter part MLD is accurate when determining the amount of vehicles circulating at specific spots, but extending this mechanism of measurement to the whole network is expensive. 
* The use of models like the LWR model may be useful for providing extra information to retrieve the congestion state of the network. 

***

## Objectives {-}

The main objective of this project is to: 

1. Study the LWR model and in particular its network counter part. 
2. Obtain and simulate a macroscopic traffic model for a urban network. 
3. Create and design an estimator in order to retrieve the state of the network based on heterogenous measurements. 
4. Compare the behavior and performance of the estimator under multiple situations. 

## Description {-}

***

### Task 1: Modeling {-}

Consider reading [@Daganzo1994:TR-B] to understand the first basic principles and [@Ladino2018] for more details about the network problem. 

#### Context {-}

In order to reconstruct the traffic models for this project it is important to understand the principle of demand supply prescribed in the *Cell Transmission Model (CTM)* [@Daganzo1994:TR-B] and its extensions to the network case [@Ladino2018].

(ref:fdiag) Demand/Supply Principle. 

```{r fdiag, fig.cap='(ref:fdiag)', fig.align = 'center', fig.width = 3.5, fig.asp= 0.7, echo= FALSE}
library(ggplot2)
N <- 0.1 # sampling 
x <- seq(from = 0,  to = 1,  by = N)

y1 <- pmin(x, 0.5)
y2 <- pmin(0.5, -x+1)
Demand <- data.frame(c(list(x),list(y1)))
Supply <- data.frame(c(list(x),list(y2)))
names(Demand) <- c("Density", "Flow")
names(Supply) <- c("Density", "Flow")
ggplot(data=Demand,aes(x=Density,y=Flow))+geom_line(color='red', show.legend = TRUE)+ 
  geom_line(data = Supply, color='blue',show.legend = TRUE) 
```

Within the Figure [@Ladino2018] the *red* curve represnets the *demand* of a link and the *blue* curve represents the *supply* of the link. The main objective is to model the fixed capacity of the flow. In this approach the blue line is determined by information *downstream* the network while the red line is determined by information *upstream*.   

#### Questions {-}

* Which is the actual model of

#### Expected outcomes {-}

***

### Task 2: Simulation {-}

#### Context {-}

#### Questions {-}

#### Expected outcomes {-}

***

### Task 3: Estimation algorithm {-}

#### Context {-}

#### Questions {-}

#### Expected outcomes {-}

*** 


### Task 4: Estimation performance {-}

#### Context {-}

#### Questions {-}

#### Expected outcomes {-}


(ref:foo) A scatterplot of the data `cars` using **base** R graphics. 

```{r foo, fig.cap='(ref:foo)'}
plot(cars)  # a scatterplot
```

\begin{equation}
f\left(k\right)=\binom{n}{k}p^k\left(1-p\right)^{n-k} (\#eq:binom)
\end{equation}


In \@ref(eq:binom)


Below is an `align` environment \@ref(eq:align):

```latex
\begin{align} 
g(X_{n}) &= g(\theta)+g'({\tilde{\theta}})(X_{n}-\theta) \notag \\
\sqrt{n}[g(X_{n})-g(\theta)] &= g'\left({\tilde{\theta}}\right)
  \sqrt{n}[X_{n}-\theta ] (\#eq:align)
\end{align} 
```

\begin{align}
g(X_{n}) &= g(\theta)+g'({\tilde{\theta}})(X_{n}-\theta)\\
\sqrt{n}[g(X_{n})-g(\theta)] &= g'\left({\tilde{\theta}}\right)
  \sqrt{n}[X_{n}-\theta ] (\#eq:align)
\end{align}

## Sources {-}

For more details on the project please check: 

- [Simulation results - Github](https://github.com/aladinoster/density-reconstruction)

- Check [@Ladino2018] available at [Link](https://hal.archives-ouvertes.fr/hal-01731356) and [@Lovisari2016] available at [Link](https://hal.archives-ouvertes.fr/hal-01375928)

